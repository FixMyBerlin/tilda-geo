# Minimal config - only settings that differ from defaults and are necessary
# Based on osm2pgsql recommendations: https://osm2pgsql.org/doc/manual.html#tuning-the-postgresql-server
# Adjusted for Docker Desktop with ~7.6GB total memory allocated to containers

# Memory settings (critical for performance)
shared_buffers=1GB
work_mem=100MB
maintenance_work_mem=1GB
max_wal_size=4GB
effective_cache_size=4GB

# Parallel query execution (critical for spatial queries in parking processing)
max_parallel_workers_per_gather=4
max_parallel_workers=4
max_worker_processes=8

# Connection settings
max_connections=100

# WAL settings (for osm2pgsql performance)
wal_level=minimal
checkpoint_timeout=60min
checkpoint_completion_target=0.9
max_wal_senders=0

# Query planner (SSD optimization)
random_page_cost=1.0

# Network (required for Docker)
listen_addresses = '*'
